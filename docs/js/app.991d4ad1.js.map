{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c650","webpack:///./src/driver-routing.js","webpack:///./src/App.vue?8722","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","geocode","matrix","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","model","callback","$$v","showModal","expression","slot","mapsURL","_v","isOptionRight","_l","option","index","on","$event","handlePromise","_m","required","apiKey","locationSuccess","_e","getLocationStatus","userLocation","validateUserLocation","address","_s","file","progress","error","readFile","addresses","$set","addressErrors","newLocation","noLocation","locationError","validate","runRouting","staticRenderFns","openrouteservice","require","setupAPIKey","Directions","api_key","Geocode","Matrix","toCoordinates","boundingBox","coords","text","boundary_country","localCoord","boundary_circle","lat_lng","radius","features","geometry","coordinates","err","str","console","warn","getMatrix","calculate","locations","profile","sources","destinations","sortMatrix","matrixDestinations","matrixDurations","durations","matrixObjects","duration","destination","sort","a","b","k","getDirections","sortedMatrix","baseURL","origin","location","waypoints","lastIndexOf","finalResult","addressToCoords","geo","validateAddress","allResults","map","feature","properties","label","calculateRoute","currentLocation","unshift","directionsURL","getAPIKey","numAddresses","addressPrevVal","addressOption","promise","resolve","reject","toBase64","Promise","reader","FileReader","readAsDataURL","onload","onerror","which","then","success","localStorage","setItem","updateVals","includes","forEach","val","getItem","infoBits","split","count","line","asWords","word","match","filter","infoBit","temp","streetRegex","cityZipRegex","toformat1","toLowerCase","indexOf","toformat2","lineToPush","type","e","addressObj","street","cityZip","base64File","halfTurn","rotated","shippingArgs","recognize","logger","status","log","Math","floor","readShipping","builtAddress","updateAddresses","src","img","Image","canvas","document","createElement","width","height","style","position","ctx","getContext","translate","rotate","PI","drawImage","toDataURL","$getLocation","enableHighAccuracy","lng","lat","addy","undefined","Array","isArray","buildData","components","SimpleModal","component","use","plugins","formEvents","config","productionTip","devtools","render","h","$mount"],"mappings":"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","file":"js/app.991d4ad1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/kahzum-route-organizer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","/* eslint-disable @typescript-eslint/camelcase */\n\nimport { Geocode } from \"openrouteservice-js\";\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst openrouteservice = require(\"openrouteservice-js\");\n\nlet directions;\nlet geocode;\nlet matrix;\nlet coordinates;\n\nasync function setupAPIKey(apiKey) {\n  // console.log(\"registering api key!\");\n  directions = new openrouteservice.Directions({\n    api_key: apiKey\n  });\n  geocode = new openrouteservice.Geocode({\n    api_key: apiKey\n  });\n  matrix = new openrouteservice.Matrix({\n    api_key: apiKey\n  });\n  // console.log(\"API key has successfully been applied\");\n}\n\nasync function toCoordinates(data, boundingBox) {\n  const coords = [];\n  let localCoord;\n  // if the location is an address, convert it to coords\n  if (typeof boundingBox == \"string\") {\n    localCoord = await geocode.geocode({\n      // look at orsGeocode.js... is there another way to make this more accurate?\n      text: boundingBox,\n      boundary_country: [\"USA\"]\n      //boundary_circle: { lat_lng: [localCoord[1], localCoord[0]], radius: 80 }\n    });\n  } else {\n    localCoord = boundingBox;\n  }\n  for (let i = 0; i < data.addresses.length; ++i) {\n    // console.log(\"starting, i=\" + i);\n    const result = await geocode.geocode({\n      // look at orsGeocode.js... is there another way to make this more accurate?\n      text: data.addresses[i],\n      boundary_country: [\"USA\"],\n      boundary_circle: { lat_lng: [localCoord[1], localCoord[0]], radius: 80 }\n    });\n    try {\n      // See response format at bottom: Geocode Response\n      // console.log(\"response\", result.features[0].geometry.coordinates);\n      coords.push(result.features[0].geometry.coordinates);\n    } catch (err) {\n      const str = \"An error occured: \" + err;\n      console.warn(str);\n    }\n    // console.log(\"finished, i=\" + i);\n  }\n  return coords;\n}\n\nasync function getMatrix(coords) {\n  // console.log(\"hopefully this is an array of arrays\", coords);\n  const result = await matrix.calculate({\n    locations: coords,\n    profile: \"driving-car\",\n    sources: [0],\n    destinations: [\"all\"]\n  });\n  try {\n    // console.log(\"response matrix:\", result);\n    return result;\n  } catch (err) {\n    const str = \"An error occured: \" + err;\n    console.warn(str);\n    return null;\n  }\n}\nasync function sortMatrix(matrix) {\n  const matrixDestinations = [...matrix.destinations];\n  const matrixDurations = [...matrix.durations[0]];\n  // Courtesy of stack overflow: https://stackoverflow.com/a/11499391\n  const matrixObjects = [];\n  for (let j = 0; j < matrixDestinations.length; j++) {\n    matrixObjects.push({\n      duration: matrixDurations[j],\n      destination: matrixDestinations[j]\n    });\n  }\n  // console.log(\"pre sort, matrix objects\", matrixObjects);\n  matrixObjects.sort(function(a, b) {\n    return a.duration < b.duration ? -1 : a.duration == b.duration ? 0 : 1;\n  });\n\n  // console.log(\"post sort, matrix objects\", matrixObjects);\n\n  for (let k = 0; k < matrixObjects.length; k++) {\n    matrixDestinations[k] = matrixObjects[k].destination;\n    matrixDurations[k] = matrixObjects[k].duration;\n  }\n  // console.log(\n  //   \"the final (sorted by duration) dest, duration\",\n  //   matrixDestinations,\n  //   matrixDurations\n  // );\n  // matrix.destinations = matrixDestinations;\n  // matrix.durations[0] = matrixDurations;\n  return matrixObjects;\n}\n\nasync function getDirections(sortedMatrix) {\n  const baseURL = \"https://www.google.com/maps/dir/?api=1\";\n  const origin =\n    \"origin=\" +\n    sortedMatrix[0].destination.location[1] +\n    \"%2C\" +\n    sortedMatrix[0].destination.location[0];\n  let waypoints = \"waypoints=\";\n  for (let i = 1; i < sortedMatrix.length - 1; ++i) {\n    waypoints +=\n      sortedMatrix[i].destination.location[1] +\n      \"%2C\" +\n      sortedMatrix[i].destination.location[0] +\n      \"%7C\";\n  }\n  waypoints = waypoints.slice(0, waypoints.lastIndexOf(\"%7C\"));\n  const destination =\n    \"destination=\" +\n    sortedMatrix[sortedMatrix.length - 1].destination.location[1] +\n    \"%2C\" +\n    sortedMatrix[sortedMatrix.length - 1].destination.location[0];\n\n  const finalResult =\n    baseURL +\n    \"&\" +\n    origin +\n    \"&\" +\n    waypoints +\n    \"&\" +\n    destination +\n    \"&\" +\n    \"dir_action=navigate\";\n  return finalResult;\n}\n\nexport async function addressToCoords(address, apiKey) {\n  const geo = new openrouteservice.Geocode({\n    api_key: apiKey\n  });\n  const result = await geo.geocode({\n    text: address,\n    // Where do we get these from?? current location??\n    //boundary_circle: { lat_lng: [49.412388, 8.681247], radius: 50 },\n    // no bounding box here because this is used for the users current location\n    // boundary_circle: { lat_lng: [36.967259, -122.035505], radius: 80 },\n    //boundary_bbox: [[49.260929, 8.40063], [49.504102, 8.941707]],\n    boundary_country: [\"US\"]\n  });\n  try {\n    // See response format at bottom: Geocode Response\n    // console.log(\"response\", result.features[0].geometry.coordinates);\n    return result.features[0].geometry.coordinates;\n  } catch (err) {\n    const str = \"An error occured: \" + err;\n    console.warn(str);\n    return null;\n  }\n}\n\nexport async function validateAddress(address, apiKey, boundingBox) {\n  const geo = new openrouteservice.Geocode({\n    api_key: apiKey\n  });\n  let result;\n  if (typeof boundingBox == \"string\") {\n    const coords = await addressToCoords(boundingBox, apiKey);\n    // it is an address string\n    result = await geo.geocode({\n      // look at orsGeocode.js... is there another way to make this more accurate?\n      text: address,\n      boundary_country: [\"USA\"],\n      boundary_circle: { lat_lng: [coords[1], coords[0]], radius: 80 }\n    });\n  } else {\n    // it is an array of coordinates\n    result = await geo.geocode({\n      text: address,\n      boundary_country: [\"USA\"],\n      boundary_circle: { lat_lng: [boundingBox[1], boundingBox[0]], radius: 80 }\n    });\n  }\n  const allResults = result.features.map(feature => {\n    return feature.properties.label;\n  });\n  return allResults;\n}\n\nexport async function calculateRoute(data) {\n  // In the future: optimization: https://github.com/VROOM-Project/vroom/blob/master/docs/API.md#input\n  await setupAPIKey(data[\"api-key\"]);\n  const coordinates = await toCoordinates(data, data.currentLocation);\n  coordinates.unshift(data.currentLocation); // add the current location at the beginning of the array\n  const matrix = await getMatrix(coordinates);\n  const sortedMatrix = await sortMatrix(matrix);\n  const directionsURL = await getDirections(sortedMatrix);\n  return directionsURL;\n  //setupAPIKey(data[\"api-key\"]);\n  //toCoordinates(data);\n}\n\n//http://www.openstreetmap.org/?mlat=latitude&mlon=longitude&zoom=12\n// Geocode Response\n// response.features[0].geometry.coordinates\n// {\n//   \"geocoding\":{\n//     \"version\":\"0.2\",\n//     \"attribution\":\"https://openrouteservice.org/terms-of-service/#attribution-geocode\",\n//     \"query\":{\n//       \"text\":\"True Olive Connection, Santa Cruz\",\n//       \"size\":10,\n//       \"layers\":[\n//         \"venue\",\n//         \"street\",\n//         \"country\",\n//         \"macroregion\",\n//         \"region\",\n//         \"county\",\n//         \"localadmin\",\n//         \"locality\",\n//         \"borough\",\n//         \"neighbourhood\",\n//         \"continent\",\n//         \"empire\",\n//         \"dependency\",\n//         \"macrocounty\",\n//         \"macrohood\",\n//         \"microhood\",\n//         \"disputed\",\n//         \"postalcode\",\n//         \"ocean\",\n//         \"marinearea\"\n//       ],\n//       \"private\":false,\n//       \"boundary.country\":[\n//         \"USA\"\n//       ],\n//       \"lang\":{\n//         \"name\":\"English\",\n//         \"iso6391\":\"en\",\n//         \"iso6393\":\"eng\",\n//         \"defaulted\":false\n//       },\n//       \"querySize\":20,\n//       \"parser\":\"pelias\",\n//       \"parsed_text\":{\n//         \"subject\":\"True Olive Connection\",\n//         \"street\":\"True Olive Connection\",\n//         \"locality\":\"Santa Cruz\",\n//         \"admin\":\"Santa Cruz\"\n//       }\n//     },\n//     \"warnings\":[\n//       \"performance optimization: excluding 'address' layer\"\n//     ],\n//     \"engine\":{\n//       \"name\":\"Pelias\",\n//       \"author\":\"Mapzen\",\n//       \"version\":\"1.0\"\n//     },\n//     \"timestamp\":1598764068998\n//   },\n//   \"type\":\"FeatureCollection\",\n//   \"features\":[\n//     {\n//       \"type\":\"Feature\",\n//       \"geometry\":{\n//         \"type\":\"Point\",\n//         \"coordinates\":[ // Use these! https://www.openstreetmap.org/#map=19/36.97270/-122.02620\n//           -122.026199,\n//           36.972746\n//         ]\n//       },\n//       \"properties\":{\n//         \"id\":\"node/1535843098\",\n//         \"gid\":\"openstreetmap:venue:node/1535843098\",\n//         \"layer\":\"venue\",\n//         \"source\":\"openstreetmap\",\n//         \"source_id\":\"node/1535843098\",\n//         \"name\":\"True Olive Connection\",\n//         \"housenumber\":\"106\",\n//         \"street\":\"Lincoln Street\",\n//         \"confidence\":0.8,\n//         \"match_type\":\"fallback\",\n//         \"accuracy\":\"point\",\n//         \"country\":\"United States\",\n//         \"country_gid\":\"whosonfirst:country:85633793\",\n//         \"country_a\":\"USA\",\n//         \"region\":\"California\",\n//         \"region_gid\":\"whosonfirst:region:85688637\",\n//         \"region_a\":\"CA\",\n//         \"county\":\"Santa Cruz County\",\n//         \"county_gid\":\"whosonfirst:county:102087581\",\n//         \"county_a\":\"SZ\",\n//         \"locality\":\"Santa Cruz\",\n//         \"locality_gid\":\"whosonfirst:locality:85921769\",\n//         \"neighbourhood\":\"Downtown\",\n//         \"neighbourhood_gid\":\"whosonfirst:neighbourhood:85880729\",\n//         \"continent\":\"North America\",\n//         \"continent_gid\":\"whosonfirst:continent:102191575\",\n//         \"label\":\"True Olive Connection, Santa Cruz, CA, USA\"\n//       }\n//     }\n//   ],\n//   \"bbox\":[\n//     -122.026199,\n//     36.972746,\n//     -122.026199,\n//     36.972746\n//   ]\n// }\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('simple-modal',{staticClass:\"modal\",model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('template',{slot:\"body\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.mapsURL}},[_vm._v(\"Link To Google Maps route from your location to your destinations\")])])],2),_c('simple-modal',{model:{value:(_vm.isOptionRight),callback:function ($$v) {_vm.isOptionRight=$$v},expression:\"isOptionRight\"}},[_c('template',{slot:\"body\"},[_c('p',[_vm._v(\"Please click on the right address.\")]),_vm._l((_vm.addressOption),function(option,index){return _c('FormulateInput',{key:(index + \"-address-for-modal\"),attrs:{\"type\":\"button\",\"label\":option},on:{\"click\":function($event){return _vm.handlePromise('resolve', option)}}})}),_c('FormulateInput',{attrs:{\"type\":\"button\",\"label\":\"None are right.\"},on:{\"click\":function($event){return _vm.handlePromise('reject')}}})],2)],2),_c('h1',[_vm._v(\"Kahzum Route Organizer\")]),_c('h2',[_vm._v(\"Your API Key\")]),_vm._m(0),_c('FormulateInput',{attrs:{\"type\":\"text\",\"name\":\"api-key\",\"validation\":\"required\",\"validation-messages\":{ required: 'You must enter an API key.' },\"label\":\"Please enter your API key.\"},model:{value:(_vm.apiKey),callback:function ($$v) {_vm.apiKey=$$v},expression:\"apiKey\"}}),(!_vm.locationSuccess)?_c('h2',[_vm._v(\"Your Location\")]):_vm._e(),(!_vm.locationSuccess)?_c('p',[_vm._v(\" Please enter your location, or allow us to get it automatically via gps. \")]):_vm._e(),(!_vm.locationSuccess)?_c('div',{staticClass:\"location-form\"},[_c('FormulateInput',{attrs:{\"type\":\"button\",\"name\":\"location\",\"label\":\"Get My Location\"},on:{\"click\":function($event){return _vm.getLocationStatus()}}}),_c('p',[_vm._v(\"OR\")]),_c('FormulateInput',{attrs:{\"label\":\"Address of your location\"},model:{value:(_vm.userLocation),callback:function ($$v) {_vm.userLocation=$$v},expression:\"userLocation\"}}),(typeof _vm.userLocation == 'string' && _vm.userLocation !== '')?_c('FormulateInput',{attrs:{\"label\":\"Validate Location Address\",\"type\":\"button\"},on:{\"click\":_vm.validateUserLocation}}):_vm._e()],1):_vm._e(),(_vm.locationError)?_c('div',{staticClass:\"locationError\"},[_vm._v(\" Couldn't get your location. It is probably blocked by your browser or the address you entered couldn't be found. Please enter it into the textbox below or try being more specific. \")]):_vm._e(),(_vm.locationSuccess)?_c('h2',[_vm._v(\"Success! Got your coordinates!\")]):_vm._e(),_c('h2',[_vm._v(\"Add Locations\")]),_vm._l((_vm.addresses),function(address,index){return _c('div',{key:(\"address-\" + index),staticClass:\"address\"},[_c('h2',[_vm._v(\"Location \"+_vm._s(index + 1))]),_c('FormulateInput',{attrs:{\"type\":\"file\",\"name\":\"address\",\"uploader\":function (file, progress, error, option) {\n          _vm.readFile(file, progress, error, option, index);\n        },\"label\":\"Add From Shipping label\"}}),_c('FormulateInput',{attrs:{\"type\":\"text\",\"label\":\"Enter Address Manually\"},model:{value:(_vm.addresses[index]),callback:function ($$v) {_vm.$set(_vm.addresses, index, $$v)},expression:\"addresses[index]\"}}),(_vm.addressErrors[index])?_c('div',{staticClass:\"error-message\"},[_vm._v(\" Please try making this address more specific. \")]):_vm._e()],1)}),_c('br'),_c('FormulateInput',{attrs:{\"type\":\"button\",\"label\":\"Add another location\"},on:{\"click\":function($event){return _vm.newLocation()}}}),_c('br'),(_vm.apiKey !== '' && !_vm.noLocation && !_vm.locationError)?_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":\"Validate Addresses\"},on:{\"click\":function($event){return _vm.validate()}}}):_vm._e(),(_vm.noLocation || _vm.locationError)?_c('div',{staticClass:\"need-location\"},[_vm._v(\" You must add your location before you can validate addresses \")]):_vm._e(),(_vm.noLocation || _vm.locationError)?_c('div',{staticClass:\"need-location\"},[_vm._v(\" You must select your location before you are allowed to route \")]):_vm._e(),(!_vm.noLocation && !_vm.locationError)?_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":\"Get Routes\"},on:{\"click\":function($event){return _vm.runRouting()}}}):_vm._e(),_c('br')],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" API key can be found at \"),_c('a',{attrs:{\"href\":\"https://openrouteservice.org/dev/#/home\",\"target\":\"_blank\"}},[_vm._v(\"openrouteservice\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\n// https://github.com/GIScience/openrouteservice-js\nimport {\n  calculateRoute,\n  validateAddress,\n  addressToCoords\n} from \"./driver-routing.js\";\nimport SimpleModal from \"simple-modal-vue\";\nimport Tesseract from \"tesseract.js\";\n\n@Component({\n  components: { SimpleModal }\n})\nexport default class App extends Vue {\n  mapsURL = \"\"; // important\n  apiKey = this.getAPIKey();\n  numAddresses = 1;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  userLocation: string | any[] = [];\n  showModal = false;\n  addresses = [\"\"];\n  addressPrevVal = [\"\"];\n  addressErrors = [false];\n  locationError = false;\n  locationSuccess = false;\n  isOptionRight = false;\n  addressOption = null;\n  promise = {\n    resolve: null,\n    reject: null\n  };\n\n  get noLocation() {\n    return (typeof this.userLocation == \"string\" && this.userLocation == \"\") ||\n      (Array.isArray(this.userLocation) && this.userLocation.length == 0)\n      ? true\n      : false;\n  }\n\n  newLocation() {\n    this.addressPrevVal.push(\"\");\n    this.addresses.push(\"\");\n    this.addressErrors.push(false);\n    this.numAddresses++;\n  }\n\n  handlePromise(which, option = null) {\n    if (which == \"resolve\") {\n      this.promise.resolve(option);\n    } else {\n      this.promise.reject();\n    }\n  }\n\n  async validateUserLocation() {\n    this.addressOption = await validateAddress(\n      this.userLocation,\n      this.apiKey,\n      this.userLocation\n    );\n    this.isOptionRight = true;\n    await new Promise((resolve, reject) => {\n      this.promise[\"resolve\"] = resolve;\n      this.promise[\"reject\"] = reject;\n    }).then(\n      (success: string) => {\n        this.locationError = false;\n        this.userLocation = success;\n        this.isOptionRight = false;\n      },\n      () => {\n        this.locationError = true;\n        this.isOptionRight = false;\n      }\n    );\n  }\n\n  async validate() {\n    for (let i = 0; i < this.addresses.length; ++i) {\n      this.addressOption = await validateAddress(\n        this.addresses[i],\n        this.apiKey,\n        this.userLocation\n      );\n      this.isOptionRight = true;\n      await new Promise((resolve, reject) => {\n        this.promise[\"resolve\"] = resolve;\n        this.promise[\"reject\"] = reject;\n      }).then(\n        (success: string) => {\n          this.$set(this.addresses, i, success);\n          this.isOptionRight = false;\n        },\n        () => {\n          this.$set(this.addressErrors, i, true);\n          this.isOptionRight = false;\n        }\n      );\n    }\n  }\n\n  @Watch(\"apiKey\")\n  updateApiKey() {\n    localStorage.setItem(\"apiKey\", this.apiKey);\n  }\n\n  @Watch(\"addresses\")\n  addressUpdate() {\n    const updateVals = this.addresses.map(address => {\n      return !this.addressPrevVal.includes(address);\n    });\n    updateVals.forEach((val, index) => {\n      this.addressErrors[index] = val ? false : this.addressErrors[index];\n    });\n    this.addressPrevVal = [...this.addresses];\n  }\n\n  getAPIKey() {\n    const key = localStorage.getItem(\"apiKey\");\n    return key ? key : \"\";\n  }\n\n  updateAddresses(text, index) {\n    this.$set(this.addresses, index, text);\n    this.$set(this.addressPrevVal, index, text);\n  }\n\n  async readShipping(text: string) {\n    let infoBits = text.split(\"\\n\");\n    let count = -1;\n\n    infoBits.forEach(line => {\n      count++;\n      let index = 0;\n      const asWords = line.split(\" \");\n      asWords.forEach(word => {\n        for (const c of word) {\n          if (c.match(/^[A-Za-z]/) || c.match(/^[0-9]/)) {\n            index += word.length + 1;\n            break;\n          } else {\n            // line=line[:index]+line[index+len(word)+1:]\n            // const temp =\n            //   line.slice(0, index) + line.slice(0, index + word.length + 1);\n            const temp =\n              line.slice(0, index) +\n              line.slice(index + word.length + 1, line.length);\n            infoBits[count] = temp;\n          }\n        }\n      });\n    });\n\n    infoBits = infoBits.filter(infoBit => infoBit !== \"\" && infoBit !== \"\");\n    // console.log(\"infobits at this point: \", infoBits);\n    // console.log(infoBits);\n    count = -1;\n    // take only the furthest away (because this should also find the top address)\n    const temp = [];\n    for (const line of infoBits) {\n      count += 1;\n      const streetRegex = /\\d+[ ]([a-z]\\.\\s)?([a-z](\\s)?)+\\w\\.?/i;\n      const cityZipRegex = /(\\w[ ]?)+[ CA ]\\b\\d{5}(?:-\\d{4})?\\b/i;\n      if (line.match(streetRegex)) {\n        // console.log(\"street\", line);\n        const toformat1 = line.toLowerCase().indexOf(\"to: \");\n        const toformat2 = line.toLowerCase().indexOf(\"to \");\n        if (toformat1 >= 0) {\n          const lineToPush = line.slice(toformat1 + \"to: \".length);\n          temp.push({ type: \"street\", line: lineToPush });\n        } else if (toformat2 >= 0) {\n          const lineToPush = line.slice(toformat2 + \"to \".length);\n          temp.push({ type: \"street\", line: lineToPush });\n        } else {\n          temp.push({ type: \"street\", line: line });\n        }\n      } else if (line.match(cityZipRegex)) {\n        // console.log(\"zip\", line);\n        temp.push({ type: \"cityZip\", line });\n      }\n    }\n    const addressObj = {\n      street: \"\",\n      cityZip: \"\"\n    };\n    // console.log(\"temp\", temp[0]);\n    // console.log(\"temp\", temp[1]);\n    for (let i = temp.length - 1; i >= 0; --i) {\n      if (addressObj[temp[i].type] == \"\") {\n        addressObj[temp[i].type] = temp[i].line;\n      }\n    }\n    // console.log(\"return\", addressObj.street);\n    // console.log(\"return\", addressObj.cityZip);\n    // street, zipcode\n    return [addressObj.street, addressObj.cityZip];\n  }\n\n  async readFile(file, progress, error, option, index) {\n    //* * * * * * *//\n    //I have it set up so it will work if you take\n    // the shipping label picture with your phone sideways.\n    //* * * * * * *//\n    const base64File = await this.toBase64(file);\n    const rotated = await this.halfTurn(base64File);\n    let shippingArgs = [\"\", \"\"];\n    // https://github.com/naptha/tesseract.js\n    let result = await Tesseract.recognize(rotated, \"eng\", {\n      //\n      logger: m => {\n        if (m.status == \"recognizing text\") {\n          console.log(m);\n          progress(Math.floor(m.progress * 100) / 2);\n        }\n      }\n    });\n    let text = result.data.text;\n    // console.log(text);\n    shippingArgs = await this.readShipping(text);\n    text = \"\";\n    result = null;\n    // old code for if it unknowingly needs to be rotated 180\n    // (pictures from the internet seem to need this xtra step\n    // 4 some reason)\n\n    // if (shippingArgs.includes(\"\")) {\n    //   //const rotated = file.rotate(180);\n    //   const base64File = await this.toBase64(file);\n    //   const rotated = await this.rotate180(base64File);\n    //   result = await Tesseract.recognize(rotated, \"eng\", {\n    //     logger: m => {\n    //       if (m.status == \"recognizing text\") {\n    //         console.log(m);\n    //         progress(50 + Math.floor(m.progress * 100) / 2);\n    //       }\n    //     }\n    //   });\n    //   text = result.data.text;\n    //   console.log(text);\n    //   shippingArgs = await this.readShipping(text);\n    // }\n    progress(100);\n    if (shippingArgs.includes(\"\")) {\n      error(\n        \"Couldn't read the shipping label. Please try entering it manually.\"\n      );\n    } else {\n      const builtAddress = shippingArgs[0] + \", \" + shippingArgs[1];\n      this.updateAddresses(builtAddress, index);\n    }\n  }\n\n  toBase64 = file =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n\n  async halfTurn(src) {\n    const img = new Image();\n    img.src = src;\n    await img.onload;\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = img.height;\n    canvas.height = img.width;\n    canvas.style.position = \"absolute\";\n    const ctx = canvas.getContext(\"2d\");\n    ctx.translate(img.width / 2, img.height / 2);\n    ctx.rotate((3 * Math.PI) / 2);\n    //ctx.drawImage(img, -img.width / 2, -img.height / 2);\n    ctx.drawImage(img, -img.height / 2, -img.width / 2);\n    return canvas.toDataURL();\n  }\n  async rotate180(src) {\n    const img = new Image();\n    img.src = src;\n    await img.onload;\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = img.height;\n    canvas.height = img.width;\n    canvas.style.position = \"absolute\";\n    const ctx = canvas.getContext(\"2d\");\n    ctx.translate(img.width / 2, img.height / 2);\n    ctx.rotate(Math.PI);\n    ctx.drawImage(img, -img.width / 2, -img.height / 2);\n    return canvas.toDataURL();\n  }\n\n  async getLocationStatus() {\n    this.locationError = false;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const result = await (this as any).$getLocation({\n      enableHighAccuracy: true\n    });\n\n    try {\n      this.locationSuccess = true;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (this.userLocation as any[]).push(result.lng);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (this.userLocation as any[]).push(result.lat);\n    } catch (err) {\n      console.log(\"an error occured:\", err);\n      this.locationError = true;\n    }\n  }\n\n  async buildData() {\n    let addy = undefined;\n    if (!Array.isArray(this.userLocation)) {\n      addy = await addressToCoords(this.userLocation, this.apiKey);\n      if (addy == null) {\n        return null;\n      }\n    }\n    return {\n      \"api-key\": this.apiKey,\n      addresses: this.addresses,\n      currentLocation: addy ? addy : [...this.userLocation]\n    };\n  }\n\n  async runRouting() {\n    const data = await this.buildData();\n    if (data !== null) {\n      this.mapsURL = await calculateRoute(data);\n      this.showModal = true;\n    } else {\n      this.locationError = true;\n    }\n    //sessionStorage.removeItem(\"formValues\");\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=30b4e72a&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport VueFormulate from '@braid/vue-formulate'\nimport VueGeolocation from 'vue-browser-geolocation';\nimport VueFormulateExtended from 'vue-formulate-extended'\n\n\nVue.use(VueFormulate, {\n  plugins: [\n    VueFormulateExtended({\n      features: {\n        formEvents: true, // by-default\n      },\n    }),\n  ],\n})\n\nVue.use(VueGeolocation);\nVue.config.productionTip = false;\nVue.config.devtools = true;\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}